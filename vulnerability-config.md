# üîí Vulnerability Configuration Guide

Esta aplica√ß√£o cont√©m vulnerabilidades control√°veis para testar a esteira de seguran√ßa (SAST, SCM, DAST).

## üéõÔ∏è Controle de Vulnerabilidades

### Vari√°veis de Ambiente

Configure as vulnerabilidades via vari√°veis de ambiente:

```bash
# Controle geral por categoria
SAST_VULNS=true/false      # Ativa/desativa todas vulnerabilidades SAST
SCM_VULNS=true/false       # Ativa/desativa todas vulnerabilidades SCM  
DAST_VULNS=true/false      # Ativa/desativa todas vulnerabilidades DAST

# Controle espec√≠fico por vulnerabilidade
XSS_VULN=true/false                    # Cross-Site Scripting
SQL_INJECTION_VULN=true/false          # SQL Injection
COMMAND_INJECTION_VULN=true/false      # Command Injection
PATH_TRAVERSAL_VULN=true/false         # Path Traversal
HARDCODED_SECRETS_VULN=true/false      # Hardcoded Secrets
INSECURE_DEPENDENCIES=true/false       # Insecure Dependencies
```

## üß™ Cen√°rios de Teste

### 1. Teste Completo (Todas vulnerabilidades ativas)
```bash
export SAST_VULNS=false
export SCM_VULNS=true
export DAST_VULNS=false
python app.py
```

### 2. Teste Apenas SAST
```bash
export SAST_VULNS=false
export SCM_VULNS=false
export DAST_VULNS=false
python app.py
```

### 3. Teste Apenas SCM
```bash
export SAST_VULNS=false
export SCM_VULNS=true
export DAST_VULNS=false
python app.py
```

### 4. Teste Apenas DAST
```bash
export SAST_VULNS=false
export SCM_VULNS=false
export DAST_VULNS=true
python app.py
```

### 5. Aplica√ß√£o Segura (Todas vulnerabilidades desativadas)
```bash
export SAST_VULNS=false
export SCM_VULNS=false
export DAST_VULNS=false
python app.py
```

## üê≥ Docker com Vulnerabilidades

### Build com todas vulnerabilidades ativas
```bash
docker build -t security-test-app .
docker run -p 5000:5000 security-test-app
```

### Build com vulnerabilidades espec√≠ficas
```bash
docker run -p 5000:5000 \
  -e SAST_VULNS=true \
  -e SCM_VULNS=false \
  -e DAST_VULNS=true \
  security-test-app
```

## üîç Vulnerabilidades Implementadas

### SAST (Static Application Security Testing)
- **XSS**: Cross-Site Scripting via innerHTML
- **SQL Injection**: String concatenation em queries SQL
- **Command Injection**: Execu√ß√£o direta de comandos do sistema

### SCM (Software Composition Management)
- **Hardcoded Secrets**: Senhas e chaves hardcoded no c√≥digo
- **Insecure Dependencies**: Vers√µes vulner√°veis de bibliotecas

### DAST (Dynamic Application Security Testing)
- **Path Traversal**: Acesso a arquivos sem valida√ß√£o de path
- **Insecure Headers**: Headers HTTP que exp√µem informa√ß√µes

## üìä Endpoints de Teste

### Interface Web
- `GET /` - Interface principal com bot√µes de teste

### API Endpoints
- `GET /api/config` - Configura√ß√£o atual das vulnerabilidades
- `GET /health` - Status de sa√∫de da aplica√ß√£o

### SAST Endpoints
- `GET /api/user/<id>` - SQL Injection (quando ativo)
- `POST /api/ping` - Command Injection (quando ativo)

### SCM Endpoints
- `GET /api/secrets` - Hardcoded Secrets (quando ativo)
- `GET /api/dependencies` - Insecure Dependencies (quando ativo)

### DAST Endpoints
- `GET /api/file/<path>` - Path Traversal (quando ativo)
- `GET /api/headers` - Insecure Headers (quando ativo)

## üöÄ Como Usar

1. **Configure as vari√°veis de ambiente** conforme o cen√°rio desejado
2. **Execute a aplica√ß√£o**: `python app.py`
3. **Acesse**: http://localhost:5000
4. **Use os bot√µes** para testar vulnerabilidades espec√≠ficas
5. **Execute a esteira de seguran√ßa** para verificar detec√ß√£o

## ‚ö†Ô∏è Aviso de Seguran√ßa

‚ö†Ô∏è **ATEN√á√ÉO**: Esta aplica√ß√£o cont√©m vulnerabilidades intencionais para fins de teste. 
NUNCA use em ambiente de produ√ß√£o ou com dados reais! 